<link rel="import" href="../bower_components/paper-input/paper-input.html">
<!-- <link rel="import" href="../bower_components/iron-icon-button/iron-icon-button.html"> -->

<link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animatable.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-right-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-right-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-left-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-left-animation.html">
<link rel="import" href="../bower_components/iron-collapse/iron-collapse.html">

<link rel="import" href="../elements/user-info.html">
<link rel="import" href="../elements/car-info.html">
<link rel="import" href="../elements/trip-info.html">
<link rel="import" href="../elements/container-box.html">
<link rel="import" href="../elements/travel-box.html">
<link rel="import" href="../elements/comment-box.html">
<link rel="import" href="../elements/stars-rating.html">

<dom-module name="profile-view">

<!--   <section layout center-center fit> -->
  <!--   <template is="auto-binding"> -->
  <!--     <app-globals id="globals"></app-globals> -->
  <template>
      <template id="profileTemplate" is="dom-if" if="{{session.user}}">
        <div class="margin-block layout horizontal">
          <div class="layout vertical profile-a">
            <img class="profile-photo" src=""/>
            <div class="profile-stars"><stars-rating score="5"></stars-rating></div>
          </div>
          <div class="layout vertical profile-b">
            <div class="profile-name"><span>Nombre</span> <span>Apellidos</span></div>
            <div class="profile-age"><span>XX</span> años</div>
          </div>
          <div class="profile-c layout self-end profile-buttons">
              <button class="primary-button">Crear viaje</button>
              <div class="space"></div>
              <button class="secondary-button">Editar perfil</button>
          </div>
        </div>

        <container-box name="Viajes">
          <travel-box departure="Granada" arrival="Dogo" day="23" month="Junio" driver="Carmen" travelurl="/"></travel-box>
          <travel-box departure="Sevilla" arrival="Portos" day="30" month="Mayo" driver="Yo" travelurl="/"></travel-box>
          <travel-box departure="Granada" arrival="Dogo" day="23" month="Junio" driver="Carmen" travelurl="/"></travel-box>
          <travel-box departure="Granada" arrival="Dogo" day="23" month="Junio" driver="Carmen" travelurl="/"></travel-box>
          <travel-box departure="Granada" arrival="Dogo" day="23" month="Junio" driver="Carmen" travelurl="/"></travel-box>
          <travel-box departure="Granada" arrival="Dogo" day="23" month="Junio" driver="Carmen" travelurl="/"></travel-box>
          <travel-box departure="Granada" arrival="Dogo" day="23" month="Junio" driver="Carmen" travelurl="/"></travel-box>
        </container-box>
        
        <container-box name="Opiniones">
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="0" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="1" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="2" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="3" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="4" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="5" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="6" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="7" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="8" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="9" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
          <comment-box image="../images/driverIcon.jpg" profileurl="/" score="10" comment="Me ha parecido un chaval agradable y simpatico."></comment-box>
        </container-box>
      </template>

      <template is="dom-if" if="{{!session.user}}">
	      <p>Please, log-in</p>
        <div class="margin-block layout horizontal">
          <div class="layout vertical profile-a">
            <img class="profile-photo" src=""/>
            <div class="profile-stars"><stars-rating score="5"></stars-rating></div>
          </div>
          <div class="layout vertical profile-b">
            <div class="profile-name"><span>Nombre</span> <span>Apellidos</span></div>
            <div class="profile-age"><span>XX</span> años</div>
          </div>
          <div class="profile-c layout self-end profile-buttons">
              <button class="primary-button">Crear viaje</button>
              <div class="space"></div>
              <button class="secondary-button">Editar perfil</button>
          </div>
        </div>
      </template>
  </template>

  <script>
    Polymer({
      is: "profile-view",
      properties: {
      	session: {
      	  type: Object,
      	  notify: true
      	},
      	selected: {
      	  type: String,
      	  value: "main"
      	}
      }
    });
  </script>
</dom-module>


<!--<script>
  var template = document.querySelector('template[id="profileTemplate"]');
  
  template.addEventListener('polymer-ready', function() {
    console.log("LAKIJSDASD");
    this.injectBoundHTML('<user-info selectedUser="{{session.id}}" selected="{{selected}}"></user-info>', document.querySelector("article"));
  });
  
  template.addEventListener('Polymer-ready', function() {
    console.log("AQUI NO LLEGA");
    var pages = this.$.profilePages;//querySelector("#tripPages");
    
    pages.querySelector("car-info").addEventListener("back-to-user", function(event, detail, sender) {
      pages.setAttribute("selected", "info");
    });
    
    pages.querySelector("user-info").addEventListener("create-car", function(event, detail, sender) {
      pages.setAttribute("selected", "cars");
    });
  });
</script>-->



<!--<script>
  var template = document.querySelector('template[id="profileTemplate"]');
//   template.model.selected = "cars";
  template.addEventListener('template-bound', function() {
//     var pages = this.$.profilePages;
//     
//     pages.querySelector("user-info").addEventListener("selected-selected", function(event, detail, sender) {
//       pages.setAttribute("selected", "{{selected}}");
//     });
  });



//   console.log("{{loged}}");
//   var template = document.querySelector('template[id="profileTemplate"]');
  
//   template.addEventListener('template-bound', function() {
//     this.appendChild("{{loged}}");
//   });
  
//   template.model.loged = "{{loged}}";
  
</script>-->

