<link rel="import" href="data-container.html">
<link rel="import" href="comment-box.html">
<dom-module name="assessment-container">
  <template>
    <!-- <box-container name="Opiniones" on-reload="reloadAssessments" on-open="loadAssessments" open="{{open}}" reloading="{{loading}}">
      <template id="open" is="dom-if" if="[[open]]">
        <data-service type="assessments" user="[[iduser]]" data="{{assessments}}" on-response="loaded" fetch="all"></data-service>
      </template>

      <template id="assessmentsRepeat" is="dom-repeat" items="[[assessments]]" as="assessment">
        <comment-box image="[[getImageUrl(assessment.avatar)]]" profileurl="/" car="[[assessment.car]]" driver="[[assessment.driver]]" comment="[[assessment.comment]]"></comment-box>
      </template>
    </box-container> -->
    <data-container name="Opiniones" iduser="[[iduser]]" type="assessments" data="{{assessments}}" reloadable>
      <template id="assessmentsRepeat" is="dom-repeat" items="[[assessments]]" as="assessment">
        <comment-box image="[[getImageUrl(assessment.avatar)]]" profileurl="/" car="[[assessment.car]]" driver="[[assessment.driver]]" comment="[[assessment.comment]]"></comment-box>
      </template>
    </data-container>
  </template>

  <script>
    Polymer({
      is: "assessment-container",
      properties: {
        assessments: {
          type: Object,
          notify: true
        },
        iduser: Number
      },
      getImageUrl: function(name) {
        return Teranga.image.user.AVATARS + name;
      }
    });
  </script>
</dom-module>