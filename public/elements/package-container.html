<link rel="import" href="box-container.html">
<link rel="import" href="package-box.html">

<!-- <link rel="import" href="package-service.html"> -->

<dom-module name="package-container">
  <template>
    <box-container name="Paquetes" on-reload="reloadPackages" open="{{open}}" reloading="{{loading}}">
      <!-- <template is="dom-if" if="[[open]]">
        <package-service user="[[iduser]]" response="{{packages}}" on-loaded="loaded" fetch="all"></package-service>
      </template> -->

      <template id="packagesRepeat" is="dom-repeat" items="[[packages]]" as="package">
        <package-box package="[[package]]"></package-box>
      </template>
      
    </box-container>
  </template>

  <script>
    Polymer({
      is: "package-container",
      properties: {
        package: {
          type: Object,
          notify: true
        },
        iduser: Number,
        loading: Boolean
      },
      reloadPackages: function() {
        this.loading = true;
        this.$$("package-service").reload();
        this.$.packagesRepeat.render();
      },
      loaded: function() {
        this.loading = false;
      }
    });
  </script>
</dom-module>