<dom-module name="request-box">
  <style>
    .request {
      border: 2px solid #ccc;
      width: 150px;
      height: 150px;
      margin: 10px;
      padding: 10px;
      text-align: center;
      display: inline-block;
      vertical-align: top;
    }
    .request > table {
      width: 100%;
    }
    .request-box-img {
      width: 20px;
      height: 20px;
    }
    .request-box-button {
      width: 100%;
    }
    .delete-button {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      position: relative;
      left: 62px;
      top: -5px;
      font-size: 23px;
      padding: 0px;
    }
  </style>
  
  <template>  
    <div class="request">
      <table>
        <tr>
          <td colspan="4">[[departure]]</td>
        </tr>
        <tr>
          <td colspan="4">/</td>
        </tr>
        <tr>
          <td colspan="4">[[arrival]]</td>
        </tr>

        <template is="dom-if" if="[[isOwner(request)]]">
          <tr>
            <td><img class="request-box-img" src="../images/user.png"></td>
            <td><span>[[seats]]</span></td>
            <td><img class="request-box-img" src="../images/package-allow.png"></td>
            <td><span>[[packages]]</span></td>
          </tr>
          <tr><td colspan="4"><button class="request-box-button" on-click="redirect">Ver</button></td></tr>
        </template>
        <template is="dom-if" if="[[isOwner(request)]]">
          <span>[[status]]</span>
          <div class="layout horizontal">
            <div class="layout vertical center">
            <span>[[day]]</span>
            <span>[[month]]</span>
            </div>
            <span>[[hour]]</span>
          </div>
        </template>
      </table>
    </div>
  </template>

  <script>
  Polymer({
    is: "request-box",
    properties: {
      request: Object,
      url: String,
      seats: Number,
      packages: Number,
      departure: String,
      arrival: String
    },
    redirect: function() {
      window.location='/';
    },

    isOwner: function() {
      return this.request.driverName == "You";
    }
  });
  </script>
</dom-module>